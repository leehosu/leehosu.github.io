{"componentChunkName":"component---src-templates-post-template-jsx","path":"/kubernetes-delete-process","result":{"data":{"markdownRemark":{"html":"<h1 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h1>\n<p>kubernetes는 node의 리소스에 따라 Pods의 배치 전략도 달라지고, 제한이 됩니다.\n이번 게시글에서는 Node의 리소스가 꽉 찼을 때 리소스를 확보하기 위해 어떤 우선 순위에 의해 Pods를 삭제하는지에 대해 알아보겠습니다.</p>\n<h2 id=\"우선-순위\" style=\"position:relative;\"><a href=\"#%EC%9A%B0%EC%84%A0-%EC%88%9C%EC%9C%84\" aria-label=\"우선 순위 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>우선 순위</h2>\n<p>Kubernetes에서 Node의 리소스가 가득 찼을 때 Pod를 삭제하는 순서를 정하는 것은 kube-scheduler에 의해 정해집니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.57575757575757%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACHElEQVQoz3WTTWsTURSGZykqfuAPqL9E9CeIC1dCVRAKbqTqQu1O1IhrISs/kJYqUpCCG4MWBEsLbVYmi4g1xRDTmmYmc+fO/Xw9985kcrtwyHDP3HPy3neecyYy1sLS7VagiN1qDCCkRXffQGuL/oHx8eRSCmWtW6ttRAgua6eCWgOcBJs7CkKR4Mhgd18XdWXeViYCQWMsNn4qJDw8jYpKM6NUkVtT/tHgb6IxiK13XdWGgh+aAtdepXj+mbkXgdKFUswshmkR5+R0LyncjZhB54/+v8NNcjf/jmFlK6echJTkSCu8/Mrx9GNGewqrzQzzb1NiKvGlnePBSoZOvzjAVJgChmlebEgirU0Rt3oKmz88eewMNNbalCOWu3sCq1spGEfVxOlNgqE64E41CHeU0rBa+lyWcbA0oTAjrtq7k+RaKenFvUMbWP7WEfQqqmA1Vsi49Kw8x1yGAwElxKFn1zenE01nyXpmje+CxgWYezHAxctXceH8OTQ+NbC8Ddx6soSbczewvPga67+AO/UNLNy/h1qthjhmU4YTUddNN0buab0d48SpM4iiCI8fPUSXenZp9jZOnzyO67NX0COGd5+9x7GjRzBzdgbd7u9QsABsaLbgfxrDcQ+LS29Qr9fRarUoz8DyISHQZb3AmPfBGHU/58QxaMrEoRtW90lJaWje2CFGMcuQUFOE0L6G5woHcQxBfCRX1af4D7jegauvoH61AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"kube-api-scheduler\"\n        title=\"kube-api-scheduler\"\n        src=\"/static/f98482f821bd44801e9cd38871e10345/7c811/kube-apiserver-scheduler.png\"\n        srcset=\"/static/f98482f821bd44801e9cd38871e10345/103f2/kube-apiserver-scheduler.png 165w,\n/static/f98482f821bd44801e9cd38871e10345/748ba/kube-apiserver-scheduler.png 330w,\n/static/f98482f821bd44801e9cd38871e10345/7c811/kube-apiserver-scheduler.png 660w,\n/static/f98482f821bd44801e9cd38871e10345/d28e0/kube-apiserver-scheduler.png 990w,\n/static/f98482f821bd44801e9cd38871e10345/bb51b/kube-apiserver-scheduler.png 1320w,\n/static/f98482f821bd44801e9cd38871e10345/218ba/kube-apiserver-scheduler.png 2144w\"\n        sizes=\"(max-width: 660px) 100vw, 660px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h4 id=\"qos-클래스\" style=\"position:relative;\"><a href=\"#qos-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"qos 클래스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>QoS 클래스</h4>\n<p>Kubernetes에서 QoS(Quality of Service)는 Pod의 리소스 요구 사항을 기반으로 Pod를 세 가지 클래스로 분류하는 개념입니다.\n해당 클래스는 관리자가 직접 부여하는 것이 아니라 해당 <strong>조건이 충족되면 자동으로 부여</strong>됩니다.\n즉, QoS 클래스는 Pod가 얼마나 신속하게 할당된 리소스를 사용할 수 있는지와 관련이 있는데 세가지로 분류됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.57575757575757%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACGUlEQVQoz3VTTWtTQRR9S1HxA39A/SWiP0FcuBKqglBwI1UXaneiRlwLWfmBtFSRghTcGEQQLC20WZkKEWuKIaYlzXt58+bN5/HOTPIyXfhgmDt37jtz5pw7ibEWloabgRC72RhASIvOvoHWFr0D4+PJpxTGtW6u0kgQfdZOAbUGOAE2dxSEIsChwe6+DnXjfVuRiACNsVj/pZDx+DQqGpMZ5orYGp9zyUGm0U+tZ13VxoAfmgLXXuV4/pm5i0DpgJQyi0Ee4pKY7mXa/zxkBu2/+v8MN4jd/DuGlc2S9iSkJEZa4eVXjqcfC8oprDYLzL/NCUTjyw+BBysF2r1wfVPJFGmYlyEhSWltQtzqKmz89Mpjp09A2+4gi909gdXNHIyjMnE6CDBGB9ypBnFGKQ2rpd9jBQfLMwoL0lV7dlJKqpFBY4wBJ6Df2oKuooIZI4WCS6+V17GUcUNACXFo7XxzOMm0l6zXrPFdULsAcy/6uHj5Ki6cP4fGpwaWt4BbT5Zwc+4GlhdfY+03cKe+joX791Cr1ZCmbKrhBNS56drIrda2U5w4dQZJkuDxo4fokGeXZm/j9MnjuD57BV3S8O6z9zh29Ahmzs6g0/kTAwaBnei+3UivwaiLxaU3qNfraLVatM/AyoF3OtQLjHgPjOUQJScdI1MmDF2zuiclpaF+Y4c0SlmBjEwRQvsaXiocpCkE6SO5qp7iP9X9gbfrq9F+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"QoS\"\n        title=\"QoS\"\n        src=\"/static/5a9ad067665041d32f4a224591a32bd4/7c811/qos.png\"\n        srcset=\"/static/5a9ad067665041d32f4a224591a32bd4/103f2/qos.png 165w,\n/static/5a9ad067665041d32f4a224591a32bd4/748ba/qos.png 330w,\n/static/5a9ad067665041d32f4a224591a32bd4/7c811/qos.png 660w,\n/static/5a9ad067665041d32f4a224591a32bd4/d28e0/qos.png 990w,\n/static/5a9ad067665041d32f4a224591a32bd4/bb51b/qos.png 1320w,\n/static/5a9ad067665041d32f4a224591a32bd4/218ba/qos.png 2144w\"\n        sizes=\"(max-width: 660px) 100vw, 660px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"guaranteed-보장\" style=\"position:relative;\"><a href=\"#guaranteed-%EB%B3%B4%EC%9E%A5\" aria-label=\"guaranteed 보장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Guaranteed (보장)</h3>\n<ul>\n<li>리소스 요구 사항을 완벽하게 충족하는  Pod 입니다.</li>\n<li>Pod 는  CPU 와  Memory 에 대한 정확한 요구 사항을 지정합니다.</li>\n<li>Pod 가 필요한 리소스를 모두 사용할 수 있으며, 다른  Pod 가 리소스를 사용하지 못하도록 합니다.</li>\n<li>다른 클래스의  Pod 보다 우선 순위가 높습니다.</li>\n<li><strong>이 클래스의  Pod 는 리소스 부족 상황에서도 최우선으로 유지됩니다.</strong></li>\n</ul>\n<blockquote>\n<p> 요구 조건</p>\n<ul>\n<li>파드 내 모든 컨테이너는 메모리 상한과 메모리 요청량을 가지고 있어야 한다.</li>\n<li>파드 내 모든 컨테이너의 메모리 상한이 메모리 요청량과 일치해야 한다.</li>\n<li>파드 내 모든 컨테이너는 CPU 상한과 CPU 요청량을 가지고 있어야 한다.</li>\n<li>파드 내 모든 컨테이너의 CPU 상한이 CPU 요청량과 일치해야 한다.</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> myapp\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> // resource의 limit(cpu<span class=\"token punctuation\">,</span>memory)와 request(cpu<span class=\"token punctuation\">,</span> memory)가 명시되어있다.\n      <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> 700m\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n      <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> 700m\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n<span class=\"token punctuation\">...</span></code></pre></div>\n<p>위의 명세로 파드를 생성한 후 상세 정보를 보게 되면 아래와 같이  status 가 부여된 것을 확인할 수 있습니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> myapp\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> 700m\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n      <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> 700m\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n    \n<span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">status</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">qosClass</span><span class=\"token punctuation\">:</span> Guaranteed\n<span class=\"token punctuation\">...</span></code></pre></div>\n<h4 id=\"burstable-가변\" style=\"position:relative;\"><a href=\"#burstable-%EA%B0%80%EB%B3%80\" aria-label=\"burstable 가변 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Burstable (가변)</h4>\n<ul>\n<li>일부 리소스를 보장하면서도 추가 리소스를 요청할 수 있는 Pod입니다.</li>\n<li>Pod 는 최소한의 리소스 요구 사항을 지정하며, 필요한 경우 추가 리소스를 동적으로 요청할 수 있습니다.</li>\n<li>다른 클래스의 Pod보다 우선 순위가 낮습니다.</li>\n<li>\n<p>** Burstable Pod 는 리소스 부족 상황에서  Guaranteed Pod 보다 우선 삭제될 수 있습니다.**</p>\n<blockquote>\n<p>요구 조건</p>\n<ul>\n<li>파드 내에서 최소한 하나의 컨테이너가 메모리 또는 CPU 요청량/상한을 가집니다.</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> myapp\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> // resource의 limit.memory와 request.memory만 명시되어있다.\n      <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n      <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n<span class=\"token punctuation\">...</span></code></pre></div>\n<p>위의 명세로 파드를 생성한 후 상세 정보를 보게 되면 아래와 같이  status 가 부여된 것을 확인할 수 있습니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> myapp\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">limits</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> 700m\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n      <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cpu</span><span class=\"token punctuation\">:</span> 700m\n        <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200Mi\n<span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">status</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">qosClass</span><span class=\"token punctuation\">:</span> Burstable\n<span class=\"token punctuation\">...</span></code></pre></div>\n<h3 id=\"besteffort-최선의-노력\" style=\"position:relative;\"><a href=\"#besteffort-%EC%B5%9C%EC%84%A0%EC%9D%98-%EB%85%B8%EB%A0%A5\" aria-label=\"besteffort 최선의 노력 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BestEffort (최선의 노력)</h3>\n<ul>\n<li>리소스 요구 사항이 없거나 매우 낮은  Pod 입니다.</li>\n<li>Pod 는 최소한의 리소스를 요청하지 않으며, 리소스를 다른  Pod 와 공유합니다.</li>\n<li>다른 클래스의  Pod 보다 우선 순위가 가장 낮습니다.</li>\n<li>\n<p><strong>리소스 부족 상황에서 가장 먼저 삭제될 수 있습니다.</strong></p>\n<blockquote>\n<p>요구 조건</p>\n<ul>\n<li>파드의 컨테이너에 메모리 또는 CPU의 상한이나 요청량이 없어야 합니다.</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> myapp\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n<span class=\"token punctuation\">...</span></code></pre></div>\n<p>위의 명세로 파드를 생성한 후 상세 정보를 보게 되면 아래와 같이  status 가 부여된 것을 확인할 수 있습니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> myapp\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nginx\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>       // 비어있음.\n<span class=\"token punctuation\">...</span>\n<span class=\"token key atrule\">status</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">qosClass</span><span class=\"token punctuation\">:</span> BestEffort\n<span class=\"token punctuation\">...</span></code></pre></div>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<ul>\n<li>우선순위 클래스에 따라  BestEffort Pod 가 가장 먼저 삭제됩니다.</li>\n<li>그 다음으로는 우선순위가 낮은  Burstable Pod 가 삭제됩니다.</li>\n<li>Guaranteed Pod 는 리소스가 부족한 상황에서도 최우선으로 유지되며, 가장 마지막에 삭제됩니다.</li>\n</ul>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<ul>\n<li><a href=\"https://kubernetes.io/ko/docs/tasks/configure-pod-container/quality-service-pod/\">https://kubernetes.io/ko/docs/tasks/configure-pod-container/quality-service-pod/</a></li>\n</ul>","timeToRead":3,"excerpt":"들어가며 kubernetes는 node의 리소스에 따라 Pods의 배치 전략도 달라지고, 제한이 됩니다.\n이번 게시글에서는 Node의 리소스가 꽉 찼을 때 리소스를 확보하기 위해 어떤 우선 순위에 의해 Pods…","frontmatter":{"title":"쿠버네티스는 Node에 Resource가 부족할 때 어떤 순서로 pod를 없앨까?!","date":"2023-07-13 10:30","categories":["Devops","Kubernetes"],"tags":["Devops","Kubernetes"],"description":null,"keywords":"devops","cover":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABuUlEQVQoz32TS4vTUBTH+/EEP4IgLlwPg27FTyDobERxMeCAD9zowoUv2tCHaafYh6XSMmlLVoPTZsykSdrk3vszySRtalsPXHJzHv/zP49bIBWlVHJ23fM6lfpfOAoh2fCJpfAvgJQZQHTPQHJAoQz51He49fySx5/nWwQK5ESmSj+IvypvSgKCUMRenI4X3H5hcfTF3Q0Y/4iU2ek45O5LhwcffM4tlyv7EhHVJoRIaAslmbmCh+9dtEGwqmoLMCv18O2cp0Wf++88jrUZ7p9zvMUysssEGAJOdJsbjy6498bezzAD/PhzyZ1jh4PXc0zrWpcxXA8InpV82ma4atVWD/OTMn6LaIoy6WOW6JqhYCkC9LHL4Subk+/efoZrQ34QG3MhxebbrwU3n1hRH539U16vjcT1PHx/QRAEq+NFujAMsWYzVMTyh3GF7ande5hXxsGlUglN06hUKui6TrFYpFwu02g06Ha7lCN9VfuKCJf/Zxizi2UymSSA7Xabfr/PcDikVqsxGAwwTZNOp8PZmbH5ghTbi51lmU6n1Ot1Wq1WEmwYRpKk1+vRbDapVquMRqNVi/LyF678kbunxiYRAAAAAElFTkSuQmCC","width":660,"height":405,"src":"/static/cd8461e9b8c3967b751f74636366b88f/4e34f/cover.png","srcSet":"/static/cd8461e9b8c3967b751f74636366b88f/4e34f/cover.png 1x,\n/static/cd8461e9b8c3967b751f74636366b88f/6de51/cover.png 1.5x,\n/static/cd8461e9b8c3967b751f74636366b88f/5b479/cover.png 2x"}}}},"fields":{"slug":"/kubernetes-delete-process","date":"2023-07-13T01:30:00.000Z"}}},"pageContext":{"slug":"/kubernetes-delete-process","nexttitle":"쿠버네티스는 pod를 어떻게 삭제할까??","nextslug":"/kubernetes-delete-pod","prevtitle":"쿠버네티스 update에 관해","prevslug":"/kubernetes-pod-update","tagList":["Devops","Kubernetes","promehtues","loki","grafana","Observability","AWS","AWS EKS","AWS EC2","AWS OpenSearch","EFKStack","EC2","ArgoCD","Slack","metric","K8s","Storage","EKS","Linux","Ubuntu","Gitlab","Jenkins","config","terminal","iterms","git","github","develop","Java","Spring","cron","React.js","Redux.js","Javascript","DB","DataBase","MySQL","vue","spring","mysql","jsp","db"],"categoryList":["Devops","Kubernetes","promehtues","loki","grafana","Observability","AWS","AWS EKS","AWS EC2","EFKStack","EC2","ArgoCD","Slack","metric","Storage","Linux","Ubuntu","config","git","Java","React.js","DataBase","develop"],"latestPostEdges":[{"node":{"fields":{"slug":"/kubernetes-apply-pod"},"frontmatter":{"template":"post","title":"KUBERNETES에서 POD가 생성되고 업데이트 되는 과정","tags":["Devops","Kubernetes"],"categories":["Devops","Kubernetes"],"date":"2023-09-13 10:00"}}},{"node":{"fields":{"slug":"/kube-prometheus-stack"},"frontmatter":{"template":"post","title":"kube-prometheus-stack으로 모니터링 시스템 구축하기","tags":["Devops","Kubernetes","promehtues","loki","grafana","Observability"],"categories":["Devops","Kubernetes","promehtues","loki","grafana","Observability"],"date":"2023-08-27 15:40"}}},{"node":{"fields":{"slug":"/aws-eks-ng"},"frontmatter":{"template":"post","title":"좌충우돌 AWS EKS Nodegroup 전환기","tags":["Devops","Kubernetes","AWS","AWS EKS","AWS EC2"],"categories":["Devops","Kubernetes","AWS","AWS EKS","AWS EC2"],"date":"2023-08-15 13:00"}}},{"node":{"fields":{"slug":"/kubernetes-service"},"frontmatter":{"template":"post","title":"쿠버네티스 service란?!","tags":["Devops","Kubernetes"],"categories":["Devops","Kubernetes"],"date":"2023-08-03 11:40"}}}]}},"staticQueryHashes":[]}